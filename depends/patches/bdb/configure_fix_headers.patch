From 9550babb649af1debd92d3710e6dac9c4e9e9e75 Mon Sep 17 00:00:00 2001
From: Cory Fields <cory-nospam-@coryfields.com>
Date: Tue, 18 Apr 2023 16:36:56 +0000
Subject: [PATCH] build: fix/add missing headers

---
 dist/aclocal/clock.m4    | 4 ++--
 dist/aclocal/sequence.m4 | 4 ++++
 2 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/dist/aclocal/clock.m4 b/dist/aclocal/clock.m4
index 8d7ac7f..9702826 100644
--- a/dist/aclocal/clock.m4
+++ b/dist/aclocal/clock.m4
@@ -20,13 +20,13 @@ esac
 #	existence to mean the clock really exists.
 AC_CACHE_CHECK([for clock_gettime monotonic clock], db_cv_clock_monotonic, [
 AC_TRY_RUN([
-#include <sys/time.h>
+#include <time.h>
 int main() {
 	struct timespec t;
 	return (clock_gettime(CLOCK_MONOTONIC, &t) != 0);
 }], db_cv_clock_monotonic=yes, db_cv_clock_monotonic=no,
 AC_TRY_LINK([
-#include <sys/time.h>], [
+#include <time.h>], [
 struct timespec t;
 clock_gettime(CLOCK_MONOTONIC, &t);
 ], db_cv_clock_monotonic=yes, db_cv_clock_monotonic=no))
diff --git a/dist/aclocal/sequence.m4 b/dist/aclocal/sequence.m4
index e516d1b..688966a 100644
--- a/dist/aclocal/sequence.m4
+++ b/dist/aclocal/sequence.m4
@@ -44,6 +44,8 @@ AC_DEFUN(AM_SEQUENCE_CONFIGURE, [
 	if test "$db_cv_build_sequence" = "yes"; then
 		AC_TRY_RUN([
 		int main() {
+            #include <stdio.h>
+            #include <string.h>
 			$db_cv_seq_type l;
 			unsigned $db_cv_seq_type u;
 			char buf@<:@100@:>@;
@@ -60,6 +62,8 @@ AC_DEFUN(AM_SEQUENCE_CONFIGURE, [
 			return (0);
 		}],, [db_cv_build_sequence="no"],
 		AC_TRY_LINK(,[
+            #include <stdio.h>
+            #include <string.h>
 			$db_cv_seq_type l;
 			unsigned $db_cv_seq_type u;
 			char buf@<:@100@:>@;
-- 
2.25.1

